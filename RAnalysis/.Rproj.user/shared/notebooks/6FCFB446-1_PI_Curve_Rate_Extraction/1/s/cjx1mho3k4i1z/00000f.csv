"0","#extract slope as rate"
"0","df.out <- df %>% "
"0","  unnest(regs) %>%"
"0","  mutate(micromol.L.s = map_dbl(rankLcRg, ~ pluck(., ""allRegs"", ""b1"", 1)))"
"0",""
"0","#verify sample numbers"
"0","unique(df.out[[2]])"
"1","  [1]"
"1"," ""BK-1""   "
"1"," ""BK-2""   "
"1"," ""BK-3""   "
"1"," ""BK-4""   "
"1"," ""BK-5""   "
"1"," ""BK-6""   "
"1"," ""BK-7""   "
"1"," ""BK-8""   "
"1"," ""Dlab-A1"""
"1","
"
"1"," [10]"
"1"," ""Dlab-A2"""
"1"," ""Dlab-A3"""
"1"," ""Dlab-A4"""
"1"," ""Dlab-A5"""
"1"," ""Dlab-A6"""
"1"," ""Dlab-A7"""
"1"," ""Dlab-B1"""
"1"," ""Dlab-B2"""
"1"," ""Dlab-B3"""
"1","
"
"1"," [19]"
"1"," ""Dlab-B4"""
"1"," ""Dlab-B5"""
"1"," ""Dlab-B6"""
"1"," ""Dlab-B7"""
"1"," ""Dlab-C2"""
"1"," ""Dlab-C3"""
"1"," ""Dlab-C4"""
"1"," ""Dlab-C5"""
"1"," ""Dlab-C6"""
"1","
"
"1"," [28]"
"1"," ""Dlab-C7"""
"1"," ""Dlab-D1"""
"1"," ""Dlab-D2"""
"1"," ""Dlab-D3"""
"1"," ""Dlab-D4"""
"1"," ""Dlab-D5"""
"1"," ""Dlab-D6"""
"1"," ""Dlab-D7"""
"1"," ""Dlab-E1"""
"1","
"
"1"," [37]"
"1"," ""Dlab-E2"""
"1"," ""Dlab-E3"""
"1"," ""Dlab-E4"""
"1"," ""Dlab-E5"""
"1"," ""Dlab-E6"""
"1"," ""Dlab-E7"""
"1"," ""Dlab-F1"""
"1"," ""Dlab-F2"""
"1"," ""Dlab-F3"""
"1","
"
"1"," [46]"
"1"," ""Dlab-F4"""
"1"," ""Dlab-F5"""
"1"," ""Dlab-F6"""
"1"," ""Dlab-F7"""
"1"," ""Mcav-A1"""
"1"," ""Mcav-A2"""
"1"," ""Mcav-A3"""
"1"," ""Mcav-A4"""
"1"," ""Mcav-A5"""
"1","
"
"1"," [55]"
"1"," ""Mcav-A6"""
"1"," ""Mcav-A7"""
"1"," ""Mcav-B1"""
"1"," ""Mcav-B2"""
"1"," ""Mcav-B4"""
"1"," ""Mcav-B5"""
"1"," ""Mcav-B6"""
"1"," ""Mcav-B7"""
"1"," ""Mcav-C1"""
"1","
"
"1"," [64]"
"1"," ""Mcav-C2"""
"1"," ""Mcav-C3"""
"1"," ""Mcav-C4"""
"1"," ""Mcav-C5"""
"1"," ""Mcav-C6"""
"1"," ""Mcav-C7"""
"1"," ""Mcav-D1"""
"1"," ""Mcav-D2"""
"1"," ""Mcav-D3"""
"1","
"
"1"," [73]"
"1"," ""Mcav-D4"""
"1"," ""Mcav-D5"""
"1"," ""Mcav-D6"""
"1"," ""Mcav-D7"""
"1"," ""Mcav-E1"""
"1"," ""Mcav-E2"""
"1"," ""Mcav-E3"""
"1"," ""Mcav-E4"""
"1"," ""Mcav-E5"""
"1","
"
"1"," [82]"
"1"," ""Mcav-E6"""
"1"," ""Mcav-F1"""
"1"," ""Mcav-F2"""
"1"," ""Mcav-F3"""
"1"," ""Mcav-F4"""
"1"," ""Mcav-F5"""
"1"," ""Mcav-F6"""
"1"," ""Mcav-F7"""
"1"," ""Mdec-A1"""
"1","
"
"1"," [91]"
"1"," ""Mdec-A2"""
"1"," ""Mdec-A3"""
"1"," ""Mdec-A4"""
"1"," ""Mdec-A5"""
"1"," ""Mdec-A7"""
"1"," ""Mdec-B1"""
"1"," ""Mdec-B3"""
"1"," ""Mdec-B4"""
"1"," ""Mdec-B5"""
"1","
"
"1","[100]"
"1"," ""Mdec-B6"""
"1"," ""Mdec-B7"""
"1"," ""Mdec-C1"""
"1"," ""Mdec-C2"""
"1"," ""Mdec-C3"""
"1"," ""Mdec-C4"""
"1"," ""Mdec-C6"""
"1"," ""Mdec-C7"""
"1"," ""Mdec-D1"""
"1","
"
"1","[109]"
"1"," ""Mdec-D2"""
"1"," ""Mdec-D3"""
"1"," ""Mdec-D4"""
"1"," ""Mdec-D5"""
"1"," ""Mdec-D6"""
"1"," ""Mdec-D7"""
"1"," ""Mdec-E1"""
"1"," ""Mdec-E2"""
"1"," ""Mdec-E3"""
"1","
"
"1","[118]"
"1"," ""Mdec-E5"""
"1"," ""Mdec-E6"""
"1"," ""Mdec-E7"""
"1"," ""Mdec-F1"""
"1"," ""Mdec-F2"""
"1"," ""Mdec-F3"""
"1"," ""Mdec-F4"""
"1"," ""Mdec-F5"""
"1"," ""Mdec-F6"""
"1","
"
"1","[127]"
"1"," ""Mdec-F7"""
"1"," ""Past-A1"""
"1"," ""Past-A2"""
"1"," ""Past-A3"""
"1"," ""Past-A4"""
"1"," ""Past-A5"""
"1"," ""Past-A6"""
"1"," ""Past-A7"""
"1"," ""Past-B2"""
"1","
"
"1","[136]"
"1"," ""Past-B3"""
"1"," ""Past-B4"""
"1"," ""Past-B5"""
"1"," ""Past-B6"""
"1"," ""Past-B7"""
"1"," ""Past-C1"""
"1"," ""Past-C2"""
"1"," ""Past-C3"""
"1"," ""Past-C4"""
"1","
"
"1","[145]"
"1"," ""Past-C5"""
"1"," ""Past-C6"""
"1"," ""Past-C7"""
"1"," ""Past-D1"""
"1"," ""Past-D2"""
"1"," ""Past-D3"""
"1"," ""Past-D4"""
"1"," ""Past-D5"""
"1"," ""Past-D6"""
"1","
"
"1","[154]"
"1"," ""Past-D7"""
"1"," ""Past-E1"""
"1"," ""Past-E2"""
"1"," ""Past-E3"""
"1"," ""Past-E4"""
"1"," ""Past-E5"""
"1"," ""Past-E6"""
"1"," ""Past-E7"""
"1"," ""Past-F1"""
"1","
"
"1","[163]"
"1"," ""Past-F2"""
"1"," ""Past-F3"""
"1"," ""Past-F4"""
"1"," ""Past-F5"""
"1"," ""Past-F6"""
"1"," ""Past-F7"""
"1","
"
"0","length(unique(df.out[[2]]))"
"1","[1]"
"1"," 168"
"1","
"
"0","#select only the essential columns"
"0","xx <- select(df.out,colony_id, Light_Value, micromol.L.s)"
"0",""
"0","#add a grouping id for each colony at each light level"
"0","xx$grouping.id <- paste0(xx$colony_id, ""-"",xx$Light_Value)"
"0","nrow(xx)"
"1","[1]"
"1"," 1696"
"1","
"
"0","nrow(distinct(xx))"
"1","[1]"
"1"," 1696"
"1","
"
"0","#select only the essential columns"
"0","mx <- select(metadata, Species, colony_id, Run, Chamber.Vol.L, Temp.Cat)"
"0","nrow(mx)"
"1","[1]"
"1"," 1696"
"1","
"
"0","nrow(distinct(df))"
"1","[1]"
"1"," 168"
"1","
"
"0","#join rates with metadata"
"0","pr <- left_join(xx, mx, by=""colony_id"")"
"0","length(unique(pr$colony_id))"
"1","[1]"
"1"," 168"
"1","
"
"0","nrow(distinct(pr))"
"1","[1]"
"1"," 1696"
"1","
"
"0","pr <-distinct(pr)"
"0","  "
"0","# Write raw data to output file"
"0","write.csv(pr, ""output/pi_curve_extracted_rates_Raw.csv"")"
